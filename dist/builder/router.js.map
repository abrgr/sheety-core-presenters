{"version":3,"sources":["../../src/builder/router.js"],"names":["makeRouterPresenter","presenter","RouterPresenter","config","renderPresenter","routes","get","map","routeConfig","idx","valueSeq","schema"],"mappings":";;;;;kBAIwBA,mB;;AAJxB;;;;AACA;;AACA;;;;AAEe,SAASA,mBAAT,CAA6BC,SAA7B,EAAwC;AACrD,MAAMC,kBAAkB,SAAlBA,eAAkB,OAAiC;AAAA,QAA9BC,MAA8B,QAA9BA,MAA8B;AAAA,QAAtBC,eAAsB,QAAtBA,eAAsB;;AACvD,QAAMC,SAASF,OAAOG,GAAP,CAAW,QAAX,CAAf;;AAEA,WACE;AAAA;AAAA;AACGD,aAAOE,GAAP,CAAW,UAACC,WAAD,EAAcC,GAAd;AAAA,eACV;AAAA;AAAA;AACE,iBAAKD,YAAYF,GAAZ,CAAgB,MAAhB,CADP;AAEE,mBAAOE,YAAYF,GAAZ,CAAgB,MAAhB,CAFT;AAGGF,0BAAgB,CAAC,QAAD,EAAW,QAAX,EAAqBK,GAArB,EAA0B,WAA1B,CAAhB,EAAwDD,YAAYF,GAAZ,CAAgB,WAAhB,CAAxD;AAHH,SADU;AAAA,OAAX,EAMEI,QANF;AADH,KADF;AAWD,GAdD;;AAgBA,SAAOT,UAAU;AACfU,YAAQ,uBAAO;AACb,iBAAW,gCADE;AAEb,aAAO,0DAFM;AAGb,eAAS,QAHI;AAIb,qBAAe,uHAJF;AAKb,cAAQ,QALK;AAMb,oBAAc;AACZ,cAAM;AACJ,mBAAS,YADL;AAEJ,yBAAe,qEAFX;AAGJ,kBAAQ,QAHJ;AAIJ,qBAAW;AAJP,SADM;AAOZ,gBAAQ;AACN,mBAAS,QADH;AAEN,qBAAW;AAFL,SAPI;AAWZ,mBAAW;AACT,mBAAS,eADA;AAET,yBAAe,8IAFN;AAGT,kBAAQ,QAHC;AAIT,qBAAW,EAJF;AAKT,wBAAc;AACZ,oBAAQ;AACN,uBAAS,YADH;AAEN,6BAAe,0HAFT;AAGN,yBAAW,EAHL;AAIN,sBAAQ;AAJF;AADI;AALL,SAXC;AAyBZ,kBAAU;AACR,mBAAS,eADD;AAER,yBAAe,6BAFP;AAGR,kBAAQ,QAHA;AAIR,qBAAW,EAJH;AAKR,wBAAc;AACZ,sBAAU;AACR,uBAAS,QADD;AAER,6BAAe,2FAFP;AAGR,yBAAW,EAHH;AAIR,sBAAQ,OAJA;AAKR,0BAAY,KALJ;AAMR,uBAAS;AACP,yBAAS,OADF;AAEP,wBAAQ,QAFD;AAGP,8BAAc;AACZ,0BAAQ;AACN,6BAAS,MADH;AAEN,mCAAe,0QAFT;AAGN,4BAAQ,QAHF;AAIN,gCAAY;AAJN,mBADI;AAOZ,+BAAa;AACX,6BAAS,WADE;AAEX,mCAAe,gCAFJ;AAGX,4BAAQ,yEAHG;AAIX,gCAAY;AAJD;AAPD;AAHP;AAND;AADE;AALN;AAzBE;AAND,KAAP;AADO,GAAV,EAmEJT,eAnEI,CAAP;AAoED","file":"router.js","sourcesContent":["import React from 'react';\nimport { fromJS } from 'immutable';\nimport { Tabs, Tab } from 'material-ui/Tabs';\n\nexport default function makeRouterPresenter(presenter) {\n  const RouterPresenter = ({ config, renderPresenter }) => {\n    const routes = config.get('routes');\n\n    return (\n      <Tabs>\n        {routes.map((routeConfig, idx) => (\n          <Tab\n            key={routeConfig.get('path')}\n            label={routeConfig.get('path')}>\n            {renderPresenter(['config', 'routes', idx, 'presenter'], routeConfig.get('presenter'))}\n          </Tab>\n        )).valueSeq()}\n      </Tabs>\n    );\n  };\n\n  return presenter({\n    schema: fromJS({\n      \"$schema\": \"http://json-schema.org/schema#\",\n      \"$id\": \"http://sheetyapp.com/schemas/core-presenters/router.json\",\n      \"title\": \"Router\",\n      \"description\": \"Defines url routes and the presenters to render when the user navigates to those urls directly or by clicking a link.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"id\": {\n          \"title\": \"Identifier\",\n          \"description\": \"A unique identifier for this presenter.  Used for analytics events.\",\n          \"type\": \"string\",\n          \"default\": \"\"\n        },\n        \"type\": {\n          \"const\": \"router\",\n          \"default\": \"router\"\n        },\n        \"mapData\": {\n          \"title\": \"Configuration\",\n          \"description\": \"Pre-set values and formulas that will be evaluated against the spreadsheet that will determine the appearance and behavior of this presenter\",\n          \"type\": \"object\",\n          \"default\": {},\n          \"properties\": {\n            \"base\": {\n              \"title\": \"Base route\",\n              \"description\": \"Prepend this to every route.  Useful if you want to mount one app at yoursite.com/app1 and another at yoursite.com/app2.\",\n              \"default\": \"\",\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"config\": {\n          \"title\": \"Configuration\",\n          \"description\": \"Pre-specified configuration\",\n          \"type\": \"object\",\n          \"default\": {},\n          \"properties\": {\n            \"routes\": {\n              \"title\": \"Routes\",\n              \"description\": \"A list of url parts and the presenter we should show when the user navigates to that url.\",\n              \"default\": [],\n              \"type\": \"array\",\n              \"linkable\": false,\n              \"items\": {\n                \"title\": \"Route\",\n                \"type\": \"object\",\n                \"properties\": {\n                  \"path\": {\n                    \"title\": \"Path\",\n                    \"description\": \"The path for this route (the thing you see in the address bar).  You can use /path/{'My Tab'!A1}/{'My Tab'!B2} so that, if the user navigates to /path/something/else, 'something' is written to cell A1 in tab, My Tab, and 'else' is writte to cell B2 in tab, My Tab.\",\n                    \"type\": \"string\",\n                    \"linkable\": false\n                  },\n                  \"presenter\": {\n                    \"title\": \"Presenter\",\n                    \"description\": \"Presenter to show at this url.\",\n                    \"$ref\": \"http://sheetyapp.com/schemas/core-presenters/configurers/presenter.json\",\n                    \"linkable\": false\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    })\n  })(RouterPresenter);\n}\n"]}