{"version":3,"sources":["../../src/builder/content.js"],"names":["makeContentPresenter","presenter","ContentPresenter","mapData","content","get","sanitizedContent","sanitize","uriRewriter","__html","uri","schema"],"mappings":";;;;;kBAIwBA,oB;;AAJxB;;;;AACA;;AACA;;;;;;AAEe,SAASA,oBAAT,CAA8BC,SAA9B,EAAyC;AACtD,MAAMC,mBAAmB,SAAnBA,gBAAmB,OAAiB;AAAA,QAAdC,OAAc,QAAdA,OAAc;;AACxC,QAAMC,UAAUD,QAAQE,GAAR,CAAY,SAAZ,CAAhB;AACA,QAAMC,mBAAmB,oBAAUC,QAAV,CAAmBH,OAAnB,EAA4BI,WAA5B,CAAzB;;AAEA,WACE;AACE,iBAAU,WADZ;AAEE,+BAAyB,EAACC,QAAQH,gBAAT,EAF3B,GADF;AAKD,GATD;;AAWA,WAASE,WAAT,CAAqBE,GAArB,EAA0B;AACxB,WAAOA,GAAP,CADwB,CACZ;AACb;;AAED,SAAOT,UAAU;AACfU,YAAQ,uBAAO;AACb,iBAAW,gCADE;AAEb,aAAO,2DAFM;AAGb,eAAS,SAHI;AAIb,qBAAe,8FAJF;AAKb,cAAQ,QALK;AAMb,oBAAc;AACZ,cAAM;AACJ,mBAAS,YADL;AAEJ,yBAAe,qEAFX;AAGJ,kBAAQ,QAHJ;AAIJ,qBAAW;AAJP,SADM;AAOZ,gBAAQ;AACN,mBAAS,SADH;AAEN,qBAAW;AAFL,SAPI;AAWZ,mBAAW;AACT,mBAAS,eADA;AAET,yBAAe,8IAFN;AAGT,kBAAQ,QAHC;AAIT,qBAAW,EAJF;AAKT,wBAAc;AACZ,uBAAW;AACT,uBAAS,SADA;AAET,6BAAe,cAFN;AAGT,yBAAW,EAHF;AAIT,sBAAQ;AAJC;AADC;AALL;AAXC;AAND,KAAP;AADO,GAAV,EAkCJT,gBAlCI,CAAP;AAmCD","file":"content.js","sourcesContent":["import React from 'react';\nimport { fromJS } from 'immutable';\nimport sanitizer from '../sanitizer';\n\nexport default function makeContentPresenter(presenter) {\n  const ContentPresenter = ({ mapData }) => {\n    const content = mapData.get('content');\n    const sanitizedContent = sanitizer.sanitize(content, uriRewriter);\n\n    return (\n      <div\n        className='ql-editor'\n        dangerouslySetInnerHTML={{__html: sanitizedContent}} />\n    );\n  };\n\n  function uriRewriter(uri) {\n    return uri; // TODO: apply some whitelisting, etc.\n  }\n\n  return presenter({\n    schema: fromJS({\n      \"$schema\": \"http://json-schema.org/schema#\",\n      \"$id\": \"http://sheetyapp.com/schemas/core-presenters/content.json\",\n      \"title\": \"Content\",\n      \"description\": \"The Content presenter allows you to embed rich text, images, and video into your Sheety App.\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"id\": {\n          \"title\": \"Identifier\",\n          \"description\": \"A unique identifier for this presenter.  Used for analytics events.\",\n          \"type\": \"string\",\n          \"default\": \"\"\n        },\n        \"type\": {\n          \"const\": \"content\",\n          \"default\": \"content\"\n        },\n        \"mapData\": {\n          \"title\": \"Configuration\",\n          \"description\": \"Pre-set values and formulas that will be evaluated against the spreadsheet that will determine the appearance and behavior of this presenter\",\n          \"type\": \"object\",\n          \"default\": {},\n          \"properties\": {\n            \"content\": {\n              \"title\": \"Content\",\n              \"description\": \"Rich content\",\n              \"default\": \"\",\n              \"$ref\": \"http://sheetyapp.com/schemas/core-presenters/configurers/content.json\"\n            }\n          }\n        }\n      }\n    })\n  })(ContentPresenter);\n}\n"]}